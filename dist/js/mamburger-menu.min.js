"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i+=1){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor){descriptor.writable=true}Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps){_defineProperties(Constructor.prototype,protoProps)}if(staticProps){_defineProperties(Constructor,staticProps)}return Constructor}function _instanceof(left,right){if(right!=null&&typeof Symbol!=="undefined"&&right[Symbol.hasInstance]){return!!right[Symbol.hasInstance](left)}else{return left instanceof right}}function _classCallCheck(instance,Constructor){if(!_instanceof(instance,Constructor)){throw new TypeError("Cannot call a class as a function")}}var HamburgerMenus=function HamburgerMenus(options){_classCallCheck(this,HamburgerMenus);var hamburgerMenus=[],hamburgers=document.body.querySelectorAll(options.hamburger);hamburgers.forEach(function(hamburger,i){hamburgerMenus[i]=new HamburgerMenu(options)});return hamburgerMenus};var HamburgerMenu=function(){function HamburgerMenu(options){var _this=this;_classCallCheck(this,HamburgerMenu);this.breakPoint=options.breakpoint||768;this.hamburger=document.body.querySelector(options.hamburger);this.menu=this.hamburger.parentElement.querySelector(options.menu);if(!this.menu){console.error('Не найден парный элемент "menu" для элемента "hamburger"')}this.hamburger.addEventListener('click',function(){return _this.toggle()});window.addEventListener('click',function(e){return _this.closeByOuterClick(e)});window.addEventListener('load',function(){return _this.toggleByResolution()});window.addEventListener('resize',function(){return _this.toggleByResolution()});window.addEventListener('scroll',function(){return _this.toggleByResolution()})}_createClass(HamburgerMenu,[{key:"close",value:function close(){this.hamburger.classList.remove('open');this.menu.classList.remove('show')}},{key:"open",value:function open(){this.hamburger.classList.add('open');this.menu.classList.add('show')}},{key:"isOpen",value:function isOpen(){return this.menu.classList.contains('show')}},{key:"closeByOuterClick",value:function closeByOuterClick(e){if(document.documentElement.clientWidth<this.breakPoint&&e.target!=this.hamburger&&e.target.parentElement!=this.hamburger&&e.target.parentElement.parentElement!=this.hamburger&&e.target!=this.menu&&e.target.parentElement!=this.menu&&e.target.parentElement.parentElement!=this.menu&&e.target.parentElement.parentElement.parentElement!=this.menu&&this.isOpen()){this.close()}}},{key:"toggle",value:function toggle(){this.isOpen()?this.close():this.open()}},{key:"toggleByResolution",value:function toggleByResolution(){if(document.documentElement.clientWidth<this.breakPoint){if(this.isOpen()){this.close()}if(!this.hamburger.classList.contains('show')){this.hamburger.classList.add('show')}}else{if(!this.isOpen()){this.open()}if(this.hamburger.classList.contains('show')){this.hamburger.classList.remove('show')}}}}]);return HamburgerMenu}();
